<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>arponr | Base change of closed immersion</title>
    <meta property="og:title" content="Base change of closed immersion"/>
    <meta property="og:site_name" content="arponr"/>

    <link href="/css/style.css" rel="stylesheet" type="text/css">
    <link href="/feed.xml" rel="alternate" type="application/rss+xml" title="RSS">

    <!-- <script type="text/javascript" src="//use.typekit.net/cen6cew.js"></script> -->
    <!-- <script type="text/javascript">try{Typekit.load();}catch(e){}</script> -->

    <!-- <script type="text/javascript" src="/js/jquery.js"></script> -->
    <!-- <script type="text/javascript" src="/js/Hyphenator.js"></script> -->

    
    <script type="text/javascript" src="http://beta.mathjax.org/mathjax/latest/MathJax.js?config=/js/jax-config.js"></script>
    

    <script type="text/javascript" src="/js/j.js"></script>
  </head>

  <body class="math">
    <div class="wrap grid">
      <div class="col col-1-4">
        <nav class="sec">
          <ul>
            <li class="name"><a href="/">Arpon Raksit</a></li>
            <li>
              <a href="/posts/">posts</a></li>
            <ul>
              <li class="active">
                <a href="/posts/math/">math</a></li>
              <li>
                <a href="/posts/writing/">writing</a></li>
            </ul>
            <li>
              <a href="/notes/">notes</a></li>
          </ul>
        </nav>
      </div>

      <div class="col col-3-4">
        
        <header class="sec">
          
          <h1>Base change of closed immersion</h1>
          
          
          <h2>25 May 2014</h2>
          
        </header>
        


    

    <section class="sec text">
      
      <div class="preamble">
        $$
        
        \newcommand{ \lv }{ \lvert }
        
        \newcommand{ \rv }{ \rvert }
        
        \newcommand{ \c }{ \colon }
        
        \newcommand{ \ce }{ \mathrel{:=} }
        
        \newcommand{ \ker }{ \opname{ker} }
        
        \newcommand{ \supp }{ \opname{supp} }
        
        \newcommand{ \O }{ \mathcal{O} }
        
        \newcommand{ \I }{ \mathcal{I} }
        
        $$
      </div>
      
      <p>Here begins my mathematical blogging. Just to get myself moving, let
me start with something short and basic: understanding closed
immersions of schemes a bit better. But I’m not going to use anything
about schemes specifically today, so let me make the following
definition.<sup id="fnref:immersion-general"><a href="#fn:immersion-general" class="footnote">1</a></sup></p>

<div class="environment definition">
  <h6>1. Definition</h6>

  <p>We say a morphism $i \c Z \to$ $X$ of locally ringed spaces is a
<em>closed immersion</em> if:</p>

  <ol>
    <li>the underlying map of spaces $\lv Z \rv \to$ $\lv X \rv$ induces a
homeomorphism of $\lv X \rv$ onto a closed subset of $\lv X
\rv$;</li>
    <li>the underlying map of sheaves $\O_X \to$ $i_*\O_Z$ is
surjective.</li>
  </ol>

  <p>Recall also that:</p>

  <ol>
    <li>the <em>ideal sheaf</em> of $Z$ is defined as $\I \ce \ker(\O_X
\to$ $i_*\O_Z)$;</li>
    <li>the <em>closed subspace</em> determined by $\I$ is defined as the
locally ringed space $Z' \ce (\supp(\O_X/\I),
\O_X/\I)$;</li>
    <li>the natural map $i' \c Z' \to$ $X$ is a closed immersion with ideal
sheaf $\I$;</li>
    <li>$i \c Z \to$ $X$ in fact induces an isomorphism $h \c Z \to$ $Z'$
such that $i = i' \circ h$.</li>
  </ol>
</div>

<div id="monomorphism" class="environment lemma">
  <h6>2. Lemma</h6>

  <p>If $i \c Z \to$ $X$ is a closed immersion of locally ringed spaces,
then $i$ is a monomorphism (in the category of locally ringed
spaces).</p>
</div>

<div class="environment proof">
  <h6>Proof</h6>

  <p>By definition, the map of spaces $\lv Z \rv \to$ $\lv X \rv$ is a
monomorphism and the map of sheaves $\O_X \to$ $i_*\O_Z$ is an
epimorphism, so the claim is clear.</p>
</div>

<div id="factoring" class="environment proposition">
  <h6>3. Proposition</h6>

  <p>Let $i \c Z \to$ $X$ be a closed immersion of locally ringed spaces,
and let $\I$ be the corresponding ideal sheaf. Then a morphism
of locally ringed spaces $f \c Y \to$ $X$ factors through
$i$—i.e., there exists $g \c Y \to$ $Z$ such that $f = i \circ
g$—if and only if the induced map $f^*\I \to$ $f^*\O_X
\iso$ $\O_Y$ is zero. Such a factoring $g$ is unique if it
exists.</p>
</div>

<div class="environment proof">
  <h6>Proof</h6>

  <p>Uniqueness is immediate from $i$ being a monomorphism by
<a href="#monomorphism">Lm. 2</a>, so we need only prove the existence statement. As
recalled above, we can assume without loss of generality that $i$ is
the inclusion of the closed subspace $Z \ce
(\supp(\O_X/\I), \O_X/\I)$.</p>

  <p>($\Rightarrow$) Assume $f$ factors through $i$. By definition we have
an exact sequence $0 \to$ $\I \to$ $\O_X \to$ $i_*\O_Z \to$ $0.$ Since $i^*$
is right-exact we get an exact sequence $i^*\I \to$ $i^*\O_X \to$ $i^*i_*\O_Z \to$ $0$, where the map $\O_Z \iso$ $i^*\O_X \to$ $i^*i_*\O_Z
\iso$ $\O_Z$ is an isomorphism. It follows that $i^*\I \to$ $i^*\O_X$ is
zero, and since $f^* = g^* \circ i^*$ this implies $f^*\I \to$ $\O_Y$ is
zero as well.</p>

  <p>($\Leftarrow$) Assume $f^*\I \to$ $\O_Y$ is zero. Let $y \in \lv Y
\rv$. Then the map on stalks $\I_{f(y)} \to$ $\O_{X,f(y)} \to$ $\O_{Y,y}$
is zero. Since $\O_{X,f(y)} \to$ $\O_{Y,y}$ is a ring morphism this
implies $\I_{f(y)} \ne \O_{X,f(y)}$, whence $f(y) \in
\supp(\O_X/\I)$. Thus, on spaces, $\lv Y \rv \to$ $\lv X \rv$ factors
through $\lv Z \rv$. Then by adjunction the map $\I \to$ $\O_X \to$ $f_*\O_Y$ is zero, inducing a map on sheaves $i_*\O_Z \iso$ $\O_X/\I \to$ $\O_Y$. This defines the required map $g \c Y \to$ $Z$.</p>
</div>

<p>We have now characterised maps into closed subspaces in the way you’d
expect: a map factors through a closed subspace if and only if the
defining equations vanish on the domain space. This allows us to prove
finally that closed immersions are stable under base change, as
alluded to in the title, and moreover lets us see explicitly how the
defining ideals behave under base change.</p>

<div class="environment proposition">
  <h6>4. Proposition</h6>

  <p>Let $i \c Z \to$ $X$ be a closed immersion of locally ringed spaces,
and let $\I$ be the corresponding ideal sheaf. Let $f \c Y \to$ $X$ be any morphism of locally ringed spaces. Let $\I'$ be the
image of the map $f^*\I \to$ $f^*\O_X \iso$ $\O_Y$ and
$i' \c Z' \to$ $Y$ the closed subspace determined by $\I'$. Then
we have a pullback diagram
\[
\begin{xy}
\xymatrix {
 Z' \ar[d]^g \ar[r]_{i'} & Y \ar[d]_f \\
 Z \ar[r]^i & X.
}
\end{xy}
\]</p>
</div>

<div class="environment proof">
  <h6>Proof</h6>

  <p>By <a href="#factoring">Pr. 3</a>, giving a morphism of locally ringed spaces $T
\to$ $Z'$ is equivalent to giving a morphism $a \c T \to$ $Y$ such that
the map $a^*\I' \to$ $\O_T$ is zero. We claim this condition
is equivalent to asking that $(f \circ a)^*\I \to$ $\O_T$ is
zero. Assuming this for the moment, this in turn is equivalent by
<a href="#factoring">Pr. 3</a> to giving a morphism $b \c T \to$ $Z$ such that $f
\circ a = i \circ b$. Thus $Z'$ satisfies the necessary universal
property (in particular the morphism $g$ is determined by the
identity $Z' \to$ $Z'$, i.e. it is the morphism $b$ corresponding to
$a = i'$).</p>

  <p>To prove the claim assumed above, consider
\[
(f \circ a)^*\I \iso a^*f^*\I \to a^*\I' \to \O_T.
\]
By definition $f^*\I \to$ $\I'$ is surjective, so since $a^*$ is
right-exact, $(f \circ a)^*\I \to$ $a^*I'$ is surjective, hence an
epimorphism. It is then immediate that $(f \circ a)^*\I \to$ $\O_T$ is
zero if and only if $a^*\I' \to$ $\O_T$ is zero.</p>
</div>

<div class="footnotes">
  <ol>
    <li id="fn:immersion-general">

      <p>Though it suffices for this post, I’m pretty sure one wouldn’t
actually want to use this definition in general. In fact, I’m
curious to know a correct, general notion of closed immersion.</p>

      <p>The only setting other than the algebraic one where I’m certain
the sheaf-theoretic perspective is really prominent is complex
analysis, so this point got me to glance at <a href="//books.google.com/books/about/Coherent_Analytic_Sheaves.html?id=HyCFQgAACAAJ">Grauert-Remmert’s
<em>Coherent Analytic Sheaves</em></a>. From there I’ve
gathered that complex analytic spaces are built locally out of
closed subspaces of opens $U \subseteq \mathbb{C}^n$ which are cut
out by finitely generated ideals of the sheaf of holomorphic
functions on $U$. By <a href="//en.wikipedia.org/wiki/Oka_coherence_theorem">a theorem of Oka</a> we can equivalently
require that the ideals are coherent. So I’m guessing more
generally one should require of a closed immersion of complex
analytic spaces that it be cut out by a <em>finite type</em> or
<em>coherent</em> ideal sheaf. (Of course this is just a complete guess
based on a superficial reading of some definitions, so I’m still
curious…)</p>

      <p>The <a href="//stacks.math.columbia.edu/tag/01HK">Stacks project</a> requires that the
ideal sheaf be locally generated by sections, but this doesn’t
give the finiteness condition for the analytic setting. Lurie
gives an amazingly general definition in <a href="//www.math.harvard.edu/~lurie/papers/DAG-IX.pdf">DAG IX</a>, which I
can’t currently parse. It seems like it’s supposed to work for the
(derived) analytic setting too, since it’s treated in the paper.</p>

      <p>To be honest, I would hope there’s a general principle of what a
closed immersion/subspace should mean, but it also seems a little
crazy that it could automagically encode a finiteness
condition. That was a long footnote. <a href="#fnref:immersion-general" class="reversefootnote">&#8617;</a></p>
    </li>
  </ol>
</div>

    </section>

    </div>
  </body>
</html>

